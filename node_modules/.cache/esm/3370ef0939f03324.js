let User,CustomErrorHandler;_39f‍.x([["default",()=>_39f‍.o]]);_39f‍.w("../models",[["User",["User"],function(v){User=v}]]);_39f‍.w("../services/CustomErrorHandler",[["default",["CustomErrorHandler"],function(v){CustomErrorHandler=v}]]);


const admin= async (req,resp,next) =>{

    try{

        const user= await User.findOne({_id: req.user._id});

        if(user.role=== 'admin'){
            next()
        } else{

            return next(CustomErrorHandler.unAuthorized());
        }
        
        
    } catch(err){
        
        return next(CustomErrorHandler.serverError());


    }

}


_39f‍.d(admin);